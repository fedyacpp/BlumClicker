## BlumClicker

**Важно: Ссылка на скачивание весов модели была обновлена. Пожалуйста, перекачайте файл весов, даже если вы уже скачивали его ранее.**

~100% точность [видео](https://photos.app.goo.gl/YBA8ETyRXX5Evym99)

BlumClicker — это инструмент, автоматизирующий взаимодействие с Telegram с использованием обнаружения объектов на изображениях, реализованного на основе YOLOv5. Он специально обучен для распознавания снежинок в игре Drop game от Blum.

## Требования

* **Видеокарта NVIDIA (рекомендуется):** Для оптимальной производительности настоятельно рекомендуется использовать видеокарту NVIDIA серии RTX 20 или новее. Это связано с необходимостью использования CUDA ядер для обнаружения объектов YOLOv5.
* **Процессор (альтернатива):** Если у вас нет совместимой видеокарты NVIDIA, вы все равно можете запустить скрипт на процессоре. Однако учтите, что частота кадров будет значительно ниже, что может привести к неточным кликам, так как снежинки могут двигаться до того, как скрипт успеет отреагировать.

## TODO

- [x] Добавить больше информации в readme
- [x] Показать больше информации в терминале
- [x] Сделать скрипт более удобным для пользователя
- [x] Обучить модель для ещё большей точности
- [ ] Добавить настройки (например, для кастомной задержки между/до кликов)
- [ ] Добавить ещё больше информации в readme

## Установка

Вам понадобится Python 3.x и CUDA, если вы хотите использовать поддержку GPU. Скрипт был разработан и протестирован с Python 3.10 и CUDA 12.5.

### Как установить

1. **Получить CUDA Toolkit (для видеокарт NVIDIA):**

   Чтобы использовать поддержку GPU, вам нужно установить CUDA Toolkit. Вот как это сделать:

   - Перейдите на [страницу загрузки CUDA Toolkit](https://developer.nvidia.com/cuda-downloads).
   - Выберите свою операционную систему и скачайте подходящий установщик.
   - Скачайте и запустите установщик, затем следуйте инструкциям для установки.

2. **Клонировать репозиторий:**
   ```bash
   git clone https://github.com/fedyacpp/BlumClicker
   cd BlumClicker
   ```

3. **Установить PyTorch с поддержкой CUDA:**
   ```bash
   pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
   ```

   Если у вас нет видеокарты NVIDIA и вы хотите использовать процессор (это будет медленнее):
   ```bash
   pip install torch torchvision torchaudio
   ```

4. **Установить остальные зависимости:**
   ```bash
   pip install -r requirements.txt
   ```

5. **Скачать веса модели:**
   - Скачайте веса по этой [ссылке](https://drive.google.com/file/d/1lUTl4GulseoWs_vhPnYp0qkIYaumKMNg/view?usp=sharing).
   - Поместите скачанный файл весов (`best.pt`) в ту же директорию, что и скрипт, или укажите его путь при запуске скрипта.

### Проверка установки CUDA (для пользователей NVIDIA GPU)

Чтобы убедиться, что CUDA установлена правильно, запустите скрипт `isCudaAvailable.py`, включенный в репозиторий:

```bash
python isCudaAvailable.py
```

Это проверит, корректно ли установлены драйверы CUDA. Если всё установлено правильно, вы увидите сообщение с информацией о вашей версии CUDA и GPU.

### Запуск скрипта

Убедитесь, что окно Blum открыто в вашем приложении Telegram перед запуском скрипта. В противном случае, он не будет работать.

Чтобы запустить скрипт, выполните:
```bash
python main.py
```

## Завершение работы скрипта

Чтобы корректно завершить работу скрипта, дважды нажмите `CTRL+Q`.

## Возможности

- **Поиск окна Telegram:** Автоматически находит открытое окно Telegram на вашем компьютере.
- **Обнаружение объектов:** Использует YOLOv5 для распознавания объектов в окне Telegram.
- **Автоматизированные клики:** Кликает по обнаруженным объектам.

## Устранение неполадок

Если возникают проблемы, убедитесь, что CUDA установлена правильно и версии библиотек соответствуют вашей версии CUDA. Обратите внимание на сообщения об ошибках в консоли и журналах.

Если вы застряли на каком-либо шаге, или у вас есть вопросы, создайте issue или напишите мне в [Discord](https://discord.com/users/fedyacpp).
