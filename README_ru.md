# BlumClicker

## Последнее обновление: 29 сентября 2024г.

**Важно:** Коллаборация завершена, поэтому старый датасет восстановлен. Если у вас был включен режим «Click on all bombs», пожалуйста, отключите его. Также рекомендуется заново скачать веса модели для оптимальной работы.

BlumClicker — это автоматизированный инструмент, разработанный для взаимодействия с игрой Blum's Drop Game в Telegram с использованием распознавания изображений на основе YOLOv8. Он достигает почти 100% точности в обнаружении и клике по снежинкам. [Посмотрите демонстрацию работы](https://photos.app.goo.gl/caVfEjbUsoawek9J8).

## Содержание

- [Особенности](#особенности)
- [Демонстрация](#демонстрация)
- [Системные требования](#системные-требования)
- [Установка](#установка)
- [Использование](#использование)
- [Настройки](#настройки)
- [Устранение неполадок](#устранение-неполадок)
- [План развития](#план-развития)
- [Вклад в проект](#вклад-в-проект)
- [Контакты](#контакты)

## Особенности

- **Автоматическое обнаружение окна Telegram:** Не требует ручной настройки; скрипт самостоятельно находит окно игры.
- **Распознавание объектов с помощью YOLOv8:** Использует передовые технологии для высокой точности.
- **Автоматические клики по снежинкам:** Быстро и эффективно кликает по обнаруженным объектам.
- **Настраиваемые параметры:** Возможность изменять задержки, включать режим отладки и многое другое.
- **Функция автоигры:** Автоматически начинает новую игру после завершения текущей.

## Демонстрация

[Посмотрите BlumClicker в действии](https://photos.app.goo.gl/caVfEjbUsoawek9J8).

## Системные требования

- **Операционная система:** Windows
- **Python:** Версия 3.10 или выше
- **Оборудование:**
  - **Рекомендуется:** NVIDIA GPU (серия RTX) для лучшей производительности
  - **Альтернатива:** CPU (может работать медленнее и менее точно)
- **Дополнительно:**
  - **CUDA Toolkit:** Для пользователей GPU (тестировалось с CUDA 12.5)
  - **Telegram Desktop:** Скрипт работает только с десктопной версией Telegram

## Установка

Следуйте этим инструкциям для установки BlumClicker на ваше устройство.

### Шаг 1: Установка CUDA Toolkit (только для пользователей GPU)

Если у вас видеокарта NVIDIA, рекомендуется установить CUDA Toolkit.

- **Скачайте CUDA Toolkit:**
  - Перейдите на [официальный сайт](https://developer.nvidia.com/cuda-downloads) и выберите вашу операционную систему.
- **Установите CUDA Toolkit:**
  - Запустите скачанный установщик и следуйте инструкциям.

### Шаг 2: Клонирование репозитория

```bash
git clone https://github.com/fedyacpp/BlumClicker.git
cd BlumClicker
```

### Шаг 3: Установка зависимостей Python

#### Для пользователей GPU:

```bash
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
pip install -r requirements.txt
```

#### Для пользователей CPU:

```bash
pip install torch torchvision torchaudio
pip install -r requirements.txt
```

### Шаг 4: Скачивание весов модели

- **Скачайте файл `best.pt`:**
  - [Ссылка для скачивания](https://drive.google.com/file/d/1lUTl4GulseoWs_vhPnYp0qkIYaumKMNg/view?usp=sharing)
- **Поместите файл:**
  - Переместите `best.pt` в папку с BlumClicker

### Шаг 5: Проверка установки CUDA (только для пользователей GPU)

```bash
python isCudaAvailable.py
```

Вы должны увидеть сообщение о доступности CUDA.

### Шаг 6: Запуск скрипта

```bash
python main.py
```

## Использование

1. **Откройте Drop Game в Telegram Desktop.**
2. **Запустите скрипт:** Выполните команду `python main.py`.
3. **Начните игру:** Скрипт автоматически обнаружит окно игры и начнет взаимодействие.
4. **Остановка скрипта:** Дважды нажмите `CTRL+Q`.

## Настройки

BlumClicker предоставляет ряд настроек для кастомизации:

- **Задержка между кликами:** Устанавливайте индивидуальные задержки.
- **Режим отладки:** Включите для отображения предсказаний модели.
- **Ограничение FPS:** Снижает нагрузку на систему.

## Устранение неполадок

- **Проблемы с CUDA:**
  - Убедитесь, что ваша видеокарта поддерживает CUDA и что она правильно установлена.
- **Ошибки зависимостей:**
  - Проверьте версии установленных библиотек.
- **Обновление весов модели:**
  - Убедитесь, что вы используете актуальную версию `best.pt`.

Если проблемы сохраняются, откройте issue на GitHub или свяжитесь со мной напрямую.

## План развития

- [x] Расширение README дополнительной информацией
- [x] Улучшение информативности терминала
- [x] Повышение удобства использования
- [x] Обучение модели для увеличения точности
- [x] Добавление настраиваемых параметров
- [x] Расширение датасета
- [x] Реализация автоигры
- [x] Введение режима отладки
- [x] Ограничение FPS
- [ ] Добавление вероятности клика (данный пункт невозможен из-за особенностей распознавания - оно дискретное)
- [x] Дополнение README еще большей информацией

## Вклад в проект

Хотите помочь развитию BlumClicker? Форкните репозиторий и отправьте pull request с вашими предложениями.

## Контакты

- **Discord:** [fedyacpp](https://discord.com/users/fedyacpp)
- **Telegram:** [@fedyacpp](https://t.me/fedyacpp)
